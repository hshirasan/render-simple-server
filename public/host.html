<!-- Filename: host_panel_with_manual_control.html -->
<!-- Revision: 1 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Host Panel with Manual Control</title>
    <style>
        fieldset {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Manual Sequence Control</h1>
    <fieldset>
        <legend>Sequence Settings</legend>
        <!-- 実行用ラジオボタン① -->
        <label>
            <input type="radio" name="manual-sequence" value="sequence-1">
            曲１・シーン１・歌詞「＊＊＊」
            <select id="color-1">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="white">White</option>
            </select>
            <select id="pattern-1">
                <option value="blink-250-250">250ms On / 250ms Off</option>
                <option value="blink-500-500">500ms On / 500ms Off</option>
                <option value="fade">Fade In / Fade Out</option>
                <option value="always">Always On</option>
            </select>
        </label>

        <!-- 実行用ラジオボタン② -->
        <label>
            <input type="radio" name="manual-sequence" value="sequence-2">
            曲１・シーン２・歌詞「＊＊＊」
            <select id="color-2">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="white">White</option>
            </select>
            <select id="pattern-2">
                <option value="blink-250-250">250ms On / 250ms Off</option>
                <option value="blink-500-500">500ms On / 500ms Off</option>
                <option value="fade">Fade In / Fade Out</option>
                <option value="always">Always On</option>
            </select>
        </label>

        <!-- 実行用ラジオボタン③ -->
        <label>
            <input type="radio" name="manual-sequence" value="sequence-3">
            曲１・シーン３・歌詞「＊＊＊」
            <select id="color-3">
                <option value="red">Red</option>
                <option value="blue">Blue</option>
                <option value="green">Green</option>
                <option value="white">White</option>
            </select>
            <select id="pattern-3">
                <option value="blink-250-250">250ms On / 250ms Off</option>
                <option value="blink-500-500">500ms On / 500ms Off</option>
                <option value="fade">Fade In / Fade Out</option>
                <option value="always">Always On</option>
            </select>
        </label>
    </fieldset>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        // ラジオボタン変更時に設定を送信
        document.querySelectorAll('input[name="manual-sequence"]').forEach((radio) => {
            radio.addEventListener('change', () => {
                const sequenceId = radio.value.split('-')[1];
                const color = document.getElementById(`color-${sequenceId}`).value;
                const pattern = document.getElementById(`pattern-${sequenceId}`).value;

                console.log(`Sending settings for Sequence ${sequenceId}: Color=${color}, Pattern=${pattern}`);

                // サーバーに設定を送信
                socket.emit('update-settings', { color, blinkPattern: pattern });
            });
        });
    </script>
</body>
</html>

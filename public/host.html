<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Host Panel</title>
</head>
<body>
    <h1>Host Panel</h1>

    <!-- 色選択 -->
    <fieldset>
        <legend>Select Color:</legend>
        <label><input type="radio" name="color" value="red"> Red</label>
        <label><input type="radio" name="color" value="yellow"> Yellow</label>
        <label><input type="radio" name="color" value="pink"> Pink</label>
        <label><input type="radio" name="color" value="green"> Green</label>
        <label><input type="radio" name="color" value="purple"> Purple</label>
        <label><input type="radio" name="color" value="white"> White</label>
        <label><input type="radio" name="color" value="cyan"> Cyan</label>
        <label><input type="radio" name="color" value="blue"> Blue</label>
    </fieldset>

    <!-- 点滅パターン選択 -->
    <fieldset>
        <legend>Select Blink Pattern:</legend>
        <label><input type="radio" name="blink" value="always"> Always On</label>
        <label><input type="radio" name="blink" value="blink-100-400"> 100ms On / 400ms Off</label>
        <label><input type="radio" name="blink" value="blink-500-500"> 500ms On / 500ms Off</label>
        <label><input type="radio" name="blink" value="fade"> 500ms Fade In / 500ms Fade Out</label>
    </fieldset>

    <button id="updateSettings">Send Settings</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();

        document.getElementById('updateSettings').addEventListener('click', () => {
            // 選択された色を取得
            const color = document.querySelector('input[name="color"]:checked')?.value;
            if (!color) {
                alert('Please select a color!');
                return;
            }

            // 選択された点滅パターンを取得
            const blinkPattern = document.querySelector('input[name="blink"]:checked')?.value;
            if (!blinkPattern) {
                alert('Please select a blink pattern!');
                return;
            }

            // サーバーに設定を送信
            const settings = { color, blinkPattern };
            socket.emit('update-settings', settings);
            console.log('Settings sent:', settings);
        });
    </script>
</body>
</html>
